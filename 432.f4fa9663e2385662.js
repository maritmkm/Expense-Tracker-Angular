"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[432],{8432:(at,y,s)=>{s.r(y),s.d(y,{ExpensesModule:()=>ot});var S=s(8498),I=s(4606),m=s(9159),k=s(6695),x=s(2042),c=s(9417),f=s(5351),t=s(7705),D=s(2672),u=s(177),_=s(8834),F=s(1801),d=s(8501),b=s(9631),v=s(2798),j=s(6600),p=s(5084);function P(e,l){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Description is required"),t.k0s())}function R(e,l){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Amount is required"),t.k0s())}function T(e,l){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Amount must be > 0"),t.k0s())}function $(e,l){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Date is required"),t.k0s())}function w(e,l){if(1&e&&(t.j41(0,"mat-option",17)(1,"div",18)(2,"mat-icon"),t.EFF(3),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&e){const o=l.$implicit;t.Y8G("value",o.id),t.R7$(2),t.xc7("color",o.color),t.R7$(1),t.JRh(o.icon),t.R7$(2),t.JRh(o.name)}}function L(e,l){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Category is required"),t.k0s())}let G=(()=>{class e{constructor(o,i,n,a){this.fb=o,this.dataService=i,this.dialogRef=n,this.data=a,this.isEditMode=!!a,this.categories$=this.dataService.getCategories(),this.form=this.fb.group({id:[a?.id||null],description:[a?.description||"",c.k0.required],amount:[a?.amount||null,[c.k0.required,c.k0.min(.01)]],date:[a?.date||new Date,c.k0.required],categoryId:[a?.categoryId||null,c.k0.required]})}ngOnInit(){}onCancel(){this.dialogRef.close()}onSave(){this.form.valid&&this.dialogRef.close(this.form.value)}getSelectedCategoryName(o){return"Selected Category"}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(c.ok),t.rXU(D.u),t.rXU(f.CP),t.rXU(f.Vh))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-expense-dialog"]],decls:38,vars:14,consts:[["mat-dialog-title",""],[1,"dialog-form",3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","description","placeholder","Ex: Lunch at cafe"],[4,"ngIf"],[1,"form-row"],["appearance","outline",1,"flex-1"],["matInput","","type","number","formControlName","amount","placeholder","0.00"],["matPrefix",""],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"category-option"]],template:function(i,n){if(1&i&&(t.j41(0,"h2",0),t.EFF(1),t.k0s(),t.j41(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),t.EFF(6,"Description"),t.k0s(),t.nrm(7,"input",3),t.DNE(8,P,2,0,"mat-error",4),t.k0s(),t.j41(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),t.EFF(12,"Amount"),t.k0s(),t.nrm(13,"input",7),t.j41(14,"span",8),t.EFF(15,"$\xa0"),t.k0s(),t.DNE(16,R,2,0,"mat-error",4),t.DNE(17,T,2,0,"mat-error",4),t.k0s(),t.j41(18,"mat-form-field",6)(19,"mat-label"),t.EFF(20,"Date"),t.k0s(),t.nrm(21,"input",9)(22,"mat-datepicker-toggle",10)(23,"mat-datepicker",null,11),t.DNE(25,$,2,0,"mat-error",4),t.k0s()(),t.j41(26,"mat-form-field",2)(27,"mat-label"),t.EFF(28,"Category"),t.k0s(),t.j41(29,"mat-select",12),t.DNE(30,w,6,5,"mat-option",13),t.nI1(31,"async"),t.k0s(),t.DNE(32,L,2,0,"mat-error",4),t.k0s()()(),t.j41(33,"mat-dialog-actions",14)(34,"button",15),t.bIt("click",function(){return n.onCancel()}),t.EFF(35,"Cancel"),t.k0s(),t.j41(36,"button",16),t.bIt("click",function(){return n.onSave()}),t.EFF(37),t.k0s()()),2&i){const a=t.sdS(24);let r,g,C,E,h;t.R7$(1),t.JRh(n.isEditMode?"Edit Expense":"New Expense"),t.R7$(2),t.Y8G("formGroup",n.form),t.R7$(5),t.Y8G("ngIf",null==(r=n.form.get("description"))?null:r.hasError("required")),t.R7$(8),t.Y8G("ngIf",null==(g=n.form.get("amount"))?null:g.hasError("required")),t.R7$(1),t.Y8G("ngIf",null==(C=n.form.get("amount"))?null:C.hasError("min")),t.R7$(4),t.Y8G("matDatepicker",a),t.R7$(1),t.Y8G("for",a),t.R7$(3),t.Y8G("ngIf",null==(E=n.form.get("date"))?null:E.hasError("required")),t.R7$(5),t.Y8G("ngForOf",t.bMT(31,12,n.categories$)),t.R7$(2),t.Y8G("ngIf",null==(h=n.form.get("categoryId"))?null:h.hasError("required")),t.R7$(4),t.Y8G("disabled",n.form.invalid),t.R7$(1),t.SpI(" ",n.isEditMode?"Update":"Create"," ")}},dependencies:[u.Sq,u.bT,_.$z,F.An,d.rl,d.nJ,d.TL,d.JW,d.yw,b.fg,f.BI,f.Yi,f.E7,v.VO,j.wT,p.Vh,p.bZ,p.bU,c.qT,c.me,c.Q0,c.BC,c.cb,c.j4,c.JD,u.Jj],styles:[".dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:8px;gap:16px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.category-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.category-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:0}.full-width[_ngcontent-%COMP%]{width:100%}.flex-1[_ngcontent-%COMP%]{flex:1}"]})}}return e})();var N=s(4572),M=s(5596),Y=s(4823);function V(e,l){if(1&e){const o=t.RV6();t.j41(0,"button",44),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.clearFilters())}),t.j41(1,"mat-icon"),t.EFF(2,"clear"),t.k0s(),t.EFF(3," Clear "),t.k0s()}}function B(e,l){1&e&&(t.j41(0,"th",45),t.EFF(1," Title "),t.k0s())}function A(e,l){if(1&e&&(t.j41(0,"td",46),t.EFF(1),t.k0s()),2&e){const o=l.$implicit;t.R7$(1),t.SpI(" ",o.description," ")}}function U(e,l){1&e&&(t.j41(0,"th",45),t.EFF(1," Category "),t.k0s())}function z(e,l){if(1&e&&(t.j41(0,"td",47)(1,"div",48)(2,"mat-icon",49),t.EFF(3),t.k0s(),t.EFF(4),t.k0s()()),2&e){const o=l.$implicit,i=t.XpG();t.R7$(1),t.xc7("background-color",i.getCategoryColor(o.categoryId)+"20")("color",i.getCategoryColor(o.categoryId)),t.R7$(2),t.JRh(i.getCategoryIcon(o.categoryId)),t.R7$(1),t.SpI(" ",o.categoryName," ")}}function J(e,l){1&e&&(t.j41(0,"th",45),t.EFF(1," Amount "),t.k0s())}function X(e,l){if(1&e&&(t.j41(0,"td",50),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&e){const o=l.$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,1,o.amount)," ")}}function H(e,l){1&e&&(t.j41(0,"th",45),t.EFF(1," Date "),t.k0s())}function Z(e,l){if(1&e&&(t.j41(0,"td",51),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const o=l.$implicit;t.R7$(1),t.SpI(" ",t.i5U(2,1,o.date,"mediumDate")," ")}}function Q(e,l){1&e&&(t.j41(0,"th",52),t.EFF(1," Actions "),t.k0s())}function W(e,l){if(1&e){const o=t.RV6();t.j41(0,"td",53)(1,"button",54),t.bIt("click",function(){const a=t.eBV(o).$implicit,r=t.XpG();return t.Njj(r.openDialog(a))}),t.j41(2,"mat-icon"),t.EFF(3,"edit"),t.k0s()(),t.j41(4,"button",55),t.bIt("click",function(){const a=t.eBV(o).$implicit,r=t.XpG();return t.Njj(r.deleteExpense(a.id))}),t.j41(5,"mat-icon"),t.EFF(6,"delete"),t.k0s()()()}}function K(e,l){1&e&&t.nrm(0,"tr",56)}function q(e,l){1&e&&t.nrm(0,"tr",57)}function tt(e,l){if(1&e){const o=t.RV6();t.j41(0,"div",58)(1,"mat-icon"),t.EFF(2,"receipt_long"),t.k0s(),t.j41(3,"p"),t.EFF(4,"No expenses found."),t.k0s(),t.j41(5,"button",59),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.openDialog())}),t.EFF(6,"Add Expense"),t.k0s()()}}const et=function(){return[10,25,100]},nt=[{path:"",component:(()=>{class e{constructor(o,i){this.dataService=o,this.dialog=i,this.displayedColumns=["date","category","description","amount","actions"],this.dataSource=new m.I6([]),this.categories=[],this.filterCategoryId=null,this.filterStartDate=null,this.filterEndDate=null,this.sortBy="date",this.sortOrder="desc"}ngOnInit(){(0,N.z)([this.dataService.getExpenses(),this.dataService.getCategories()]).subscribe(([o,i])=>{this.categories=i;const n=o.map(a=>{const r=i.find(g=>g.id===a.categoryId);return{...a,categoryName:r?r.name:"Unknown",categoryColor:r?r.color:"#ccc",categoryIcon:r?r.icon:"help"}});this.dataSource.data=n,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(a,r)=>{const g=r.toLowerCase(),C=a.description.toLowerCase().includes(g)||a.categoryName.toLowerCase().includes(g),E=!this.filterCategoryId||a.categoryId===this.filterCategoryId;let h=!0;if(this.filterStartDate&&this.filterEndDate){const O=new Date(a.date);h=O>=this.filterStartDate&&O<=this.filterEndDate}return C&&E&&h}})}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase()}applyCategoryFilter(o){this.filterCategoryId=o,this.dataSource.filter=this.dataSource.filter||" "}applyDateFilter(){this.dataSource.filter=this.dataSource.filter||" "}clearFilters(){this.filterCategoryId=null,this.filterStartDate=null,this.filterEndDate=null,this.dataSource.filter="",this.dataSource.paginator&&this.dataSource.paginator.firstPage()}exportData(){console.log("Exporting data..."),alert("Export feature coming soon!")}openDialog(o){this.dialog.open(G,{width:"450px",data:o?{...o}:null}).afterClosed().subscribe(n=>{n&&(n.id?this.dataService.updateExpense(n):this.dataService.addExpense(n))})}deleteExpense(o){confirm("Are you sure you want to delete this expense?")&&this.dataService.deleteExpense(o)}getCategoryColor(o){const i=this.categories.find(n=>n.id===o);return i&&i.color||"#ccc"}getCategoryIcon(o){const i=this.categories.find(n=>n.id===o);return i&&i.icon||"category"}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(D.u),t.rXU(f.bZ))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-expense-list"]],viewQuery:function(i,n){if(1&i&&(t.GBs(k.iy,5),t.GBs(x.B4,5)),2&i){let a;t.mGM(a=t.lsd())&&(n.paginator=a.first),t.mGM(a=t.lsd())&&(n.sort=a.first)}},decls:73,vars:13,consts:[[1,"page-container"],[1,"header-actions"],[1,"header-title"],[1,"subtitle"],[1,"action-buttons"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"filters-card","mb-3"],[1,"filters-content"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Description or Category",3,"keyup"],["appearance","outline",1,"date-range-field"],[3,"rangePicker"],["matStartDate","","placeholder","Start",3,"ngModel","ngModelChange","dateChange"],["matEndDate","","placeholder","End",3,"ngModel","ngModelChange","dateChange"],["matSuffix","",3,"for"],["picker",""],["appearance","outline"],[3,"value","valueChange"],["value","date"],["value","amount"],["value","category"],["value","asc"],["value","desc"],["mat-button","","color","warn",3,"click",4,"ngIf"],[1,"table-container","mat-elevation-z2"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","description"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","font-bold",4,"matCellDef"],["matColumnDef","category"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["mat-cell","","class","amount-cell",4,"matCellDef"],["matColumnDef","date"],["mat-cell","","class","text-muted",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of expenses",3,"pageSizeOptions"],["class","no-data-state",4,"ngIf"],["mat-button","","color","warn",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"font-bold"],["mat-cell",""],[1,"category-chip"],[1,"chip-icon"],["mat-cell","",1,"amount-cell"],["mat-cell","",1,"text-muted"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row","",1,"hover-row"],[1,"no-data-state"],["mat-stroked-button","","color","primary",3,"click"]],template:function(i,n){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t.EFF(4,"Expenses"),t.k0s(),t.j41(5,"p",3),t.EFF(6,"Track and manage your spending"),t.k0s()(),t.j41(7,"div",4)(8,"button",5),t.bIt("click",function(){return n.exportData()}),t.j41(9,"mat-icon"),t.EFF(10,"download"),t.k0s(),t.EFF(11," Export "),t.k0s(),t.j41(12,"button",6),t.bIt("click",function(){return n.openDialog()}),t.j41(13,"mat-icon"),t.EFF(14,"add"),t.k0s(),t.EFF(15," Add Expense "),t.k0s()()(),t.j41(16,"mat-card",7)(17,"mat-card-content",8)(18,"mat-form-field",9)(19,"mat-label"),t.EFF(20,"Search"),t.k0s(),t.j41(21,"mat-icon",10),t.EFF(22,"search"),t.k0s(),t.j41(23,"input",11),t.bIt("keyup",function(r){return n.applyFilter(r)}),t.k0s()(),t.j41(24,"mat-form-field",12)(25,"mat-label"),t.EFF(26,"Date Range"),t.k0s(),t.j41(27,"mat-date-range-input",13)(28,"input",14),t.bIt("ngModelChange",function(r){return n.filterStartDate=r})("dateChange",function(){return n.applyDateFilter()}),t.k0s(),t.j41(29,"input",15),t.bIt("ngModelChange",function(r){return n.filterEndDate=r})("dateChange",function(){return n.applyDateFilter()}),t.k0s()(),t.nrm(30,"mat-datepicker-toggle",16)(31,"mat-date-range-picker",null,17),t.k0s(),t.j41(33,"mat-form-field",18)(34,"mat-label"),t.EFF(35,"Sort By"),t.k0s(),t.j41(36,"mat-select",19),t.bIt("valueChange",function(r){return n.sortBy=r}),t.j41(37,"mat-option",20),t.EFF(38,"Date"),t.k0s(),t.j41(39,"mat-option",21),t.EFF(40,"Amount"),t.k0s(),t.j41(41,"mat-option",22),t.EFF(42,"Category"),t.k0s()()(),t.j41(43,"mat-form-field",18)(44,"mat-label"),t.EFF(45,"Order"),t.k0s(),t.j41(46,"mat-select",19),t.bIt("valueChange",function(r){return n.sortOrder=r}),t.j41(47,"mat-option",23),t.EFF(48,"Ascending"),t.k0s(),t.j41(49,"mat-option",24),t.EFF(50,"Descending"),t.k0s()()(),t.DNE(51,V,4,0,"button",25),t.k0s()(),t.j41(52,"div",26)(53,"table",27),t.qex(54,28),t.DNE(55,B,2,0,"th",29),t.DNE(56,A,2,1,"td",30),t.bVm(),t.qex(57,31),t.DNE(58,U,2,0,"th",29),t.DNE(59,z,5,6,"td",32),t.bVm(),t.qex(60,33),t.DNE(61,J,2,0,"th",29),t.DNE(62,X,3,3,"td",34),t.bVm(),t.qex(63,35),t.DNE(64,H,2,0,"th",29),t.DNE(65,Z,3,4,"td",36),t.bVm(),t.qex(66,37),t.DNE(67,Q,2,0,"th",38),t.DNE(68,W,7,0,"td",39),t.bVm(),t.DNE(69,K,1,0,"tr",40),t.DNE(70,q,1,0,"tr",41),t.k0s(),t.nrm(71,"mat-paginator",42),t.DNE(72,tt,7,0,"div",43),t.k0s()()),2&i){const a=t.sdS(32);t.R7$(27),t.Y8G("rangePicker",a),t.R7$(1),t.Y8G("ngModel",n.filterStartDate),t.R7$(1),t.Y8G("ngModel",n.filterEndDate),t.R7$(1),t.Y8G("for",a),t.R7$(6),t.Y8G("value",n.sortBy),t.R7$(10),t.Y8G("value",n.sortOrder),t.R7$(5),t.Y8G("ngIf",n.filterCategoryId||n.filterStartDate||n.dataSource.filter),t.R7$(2),t.Y8G("dataSource",n.dataSource),t.R7$(16),t.Y8G("matHeaderRowDef",n.displayedColumns),t.R7$(1),t.Y8G("matRowDefColumns",n.displayedColumns),t.R7$(1),t.Y8G("pageSizeOptions",t.lJ4(12,et)),t.R7$(1),t.Y8G("ngIf",0===n.dataSource.data.length)}},dependencies:[u.bT,_.$z,_.iY,F.An,M.RN,M.m2,d.rl,d.nJ,d.JW,d.yw,b.fg,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,k.iy,x.B4,x.aE,v.VO,j.wT,p.bU,p.el,p.xR,p.IG,p.SG,Y.oV,c.me,c.BC,c.vS,u.oe,u.vh],styles:[".page-container[_ngcontent-%COMP%]{padding:0}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:24px}.header-actions[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#333}.header-actions[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#757575}.header-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.filters-card[_ngcontent-%COMP%]{padding:0;border-radius:16px;box-shadow:0 4px 20px #0000000d}.filters-card[_ngcontent-%COMP%]   .filters-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;align-items:center;padding:16px}.filters-card[_ngcontent-%COMP%]   .filters-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{font-size:14px}@media (max-width: 600px){.filters-card[_ngcontent-%COMP%]   .filters-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}}.filters-card[_ngcontent-%COMP%]   .filters-content[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:2;min-width:200px}.filters-card[_ngcontent-%COMP%]   .filters-content[_ngcontent-%COMP%]   .date-range-field[_ngcontent-%COMP%]{flex:1.5;min-width:200px}.table-container[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;box-shadow:0 4px 20px #0000000d;background:white}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.category-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 12px;border-radius:16px;font-size:12px;font-weight:600}.category-chip[_ngcontent-%COMP%]   .chip-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:6px}.amount-cell[_ngcontent-%COMP%]{font-weight:600;color:#333}.hover-row[_ngcontent-%COMP%]{transition:background-color .2s;cursor:pointer}.hover-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.no-data-state[_ngcontent-%COMP%]{padding:48px;text-align:center;display:flex;flex-direction:column;align-items:center}.no-data-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#e0e0e0;margin-bottom:16px}.no-data-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#757575;margin-bottom:16px}th.mat-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#546e7a;font-size:13px;text-transform:uppercase;padding:16px}td.mat-cell[_ngcontent-%COMP%]{padding:16px;border-bottom-color:#f0f0f0}"]})}}return e})()}];let ot=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[I.G,S.iI.forChild(nt),f.hM,F.m_]})}}return e})()}}]);